api_insight_lab.dashboard:
  path: '/admin/config/development/api-insight-lab'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::build'
    _title: 'API Insight Lab Dashboard'
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.run_test:
  path: '/api/perf-test/run'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::runTest'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.save_limit:
  path: '/api/perf-test/save-limit'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::saveLimit'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.save_settings:
  path: '/api/perf-test/settings'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::saveSettings'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.get_settings:
  path: '/api/perf-test/settings'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::getSettings'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.save_preset:
  path: '/api/perf-test/presets'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::savePreset'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.get_presets:
  path: '/api/perf-test/presets'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::getPresets'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.delete_preset:
  path: '/api/perf-test/presets/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::deletePreset'
  methods: [DELETE]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.update_preset:
  path: '/api/perf-test/preset/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::updatePreset'
  methods: [PUT]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.save_assertions:
  path: '/api/perf-test/assertions'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::saveAssertions'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.discovery:
  path: '/api/discovery'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::discovery'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.snapshots_list:
  path: '/api/perf-test/snapshots'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::getSnapshots'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.snapshots_save:
  path: '/api/perf-test/snapshots'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::saveSnapshot'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.snapshots_bulk_action:
  path: '/api/perf-test/snapshots/bulk'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::bulkSnapshotAction'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.snapshots_detail:
  path: '/api/perf-test/snapshots/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::getSnapshotDetail'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.snapshots_compare:
  path: '/api/perf-test/snapshots/compare/{id1}/{id2}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::compareSnapshots'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.snapshots_delete:
  path: '/api/perf-test/snapshots/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::deleteSnapshot'
  methods: [DELETE]
  requirements:
    _permission: 'administer site configuration'

# Request Chain Routes
api_insight_lab.chains_list:
  path: '/api/perf-test/chains'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::getChains'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.chains_save:
  path: '/api/perf-test/chains'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::saveChain'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.chains_update:
  path: '/api/perf-test/chains/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::updateChain'
  methods: [PUT]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.chains_delete:
  path: '/api/perf-test/chains/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::deleteChain'
  methods: [DELETE]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.chains_run:
  path: '/api/perf-test/chains/run'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::runChain'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

# ==========================================
# Test API Endpoints (for testing the tool)
# ==========================================

api_insight_lab.test_health:
  path: '/api/test/health'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::health'
  methods: [GET]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_echo:
  path: '/api/test/echo'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::echo'
  methods: [GET, POST, PUT, DELETE]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_delay:
  path: '/api/test/delay'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::delay'
  methods: [GET]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_status:
  path: '/api/test/status/{code}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::status'
  methods: [GET]
  requirements:
    _access: 'TRUE'
    code: '\d+'

api_insight_lab.test_users:
  path: '/api/test/users'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::users'
  methods: [GET]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_user:
  path: '/api/test/users/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::user'
  methods: [GET]
  requirements:
    _access: 'TRUE'
    id: '\d+'

api_insight_lab.test_user_posts:
  path: '/api/test/users/{id}/posts'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::userPosts'
  methods: [GET]
  requirements:
    _access: 'TRUE'
    id: '\d+'

api_insight_lab.test_login:
  path: '/api/test/login'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::login'
  methods: [POST]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_protected:
  path: '/api/test/protected'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::protectedResource'
  methods: [GET]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_order:
  path: '/api/test/orders'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::createOrder'
  methods: [POST]
  requirements:
    _access: 'TRUE'

api_insight_lab.test_random:
  path: '/api/test/random'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\TestApiController::random'
  methods: [GET]
  requirements:
    _access: 'TRUE'

# Configuration Import/Export Routes
api_insight_lab.export_configs:
  path: '/api/perf-test/export'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::exportConfigs'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.import_configs:
  path: '/api/perf-test/import'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::importConfigs'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.import_batch:
  path: '/api/perf-test/import/batch'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::importBatch'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.get_environments:
  path: '/api/perf-test/environments'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::getEnvironmentProfiles'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.save_environment:
  path: '/api/perf-test/environments'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::saveEnvironmentProfile'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.delete_environment:
  path: '/api/perf-test/environments/{id}'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::deleteEnvironmentProfile'
  methods: [DELETE]
  requirements:
    _permission: 'administer site configuration'
    id: \d+

api_insight_lab.set_active_environment:
  path: '/api/perf-test/environments/active'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ConfigExportController::setActiveEnvironment'
  methods: [POST]
  requirements:
    _permission: 'administer site configuration'

api_insight_lab.get_groups:
  path: '/api/perf-test/groups'
  defaults:
    _controller: '\Drupal\api_insight_lab\Controller\ApiTestController::getGroups'
  methods: [GET]
  requirements:
    _permission: 'administer site configuration'
